<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Reviews y comentarios sobre peliculas por sus propios espectadores." />
    <title>TUPeli.tk</title>
    <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='/images/favicon.png') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arvo:ital@1&family=Inter:wght@100;400;700&display=swap" rel="stylesheet">
<body>
    <header class="header">
        <div class="header-logo">
            <h1 class="header-title">TUPeli</h1>
            <div class="header-slogan">Tu opini√≥n, tu puntuaci√≥n, TUPeli üòâ</div>
        </div>
        
        <nav class="header-nav" id="navigation">
            <a class="typcn typcn-times menu-mobile cerrar" id="mobile-cerrar"> Cerrar</a>
            <a href="/" class="link">Inicio</a>
            <a href="/directores" class="link">Directores</a>
            <a href="/peliculas" class="link">Peliculas</a>
      
        </nav>
        <a class="typcn typcn-th-menu menu-mobile" id="mobile-hamburger"></a>
    </header>

    <main class="top10">
        <h1 class="titulo-principal">¬°Carg√° tu pelicula!</h1>
            <div id="formulario_carga">
            <div class="input-group col12">
                <label for="titulo">Titulo: </label>
                <input type="text" id="lname" name="lastname" placeholder="titulo pelicula">
            </div>
            <div class="input-group col18">
                <label for="anio">A√±o: </label>
                <input type="number" id="anio" name="anio" placeholder="A√±o" value=2022>
            </div>
            <div class="input-group col316">
                <label for="genero">Genero: </label>
                <select id="genero" name="genero">
                    <option disabled selected value> Genero </option>
                </select>
            </div>
            <div class="input-group col316">
                <label for="genero_sub">Sub genero: </label>
                <select id="genero_sub" name="genero_sub">
                    <option disabled selected value> Sub Genero </option>
            </select>
            </div>
            <div class="input-group col14">
                <label for="director_id">Director</label>
                <select id="director_id" name="director">
                    <option disabled selected value="dire1"> Director </option>
                </select>
            </div>
            <div class="input-group col14">
                <label for="sinopsis">Sinopsis</label>
                <textarea id="sinopsis" name="sinopsis" placeholder="Sinopsis" style="height:200px"></textarea>
            </div>
            <div class="input-group col14">
                <label for="imagen_pelicula">Portada: </label>
                <input type="url" id="imagen_pelicula" placeholder="url portada">
            </div>
            <div class="input-group col14">
                <label for="trailer">Trailer: </label>
                <input type="url" id="trailer" placeholder="url trailer">
            </div>
            
            <div class="input-group col1">
            </div>
            
            <div class="input-group col14">
                <select id="promedio" name="promedio">
                    <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</option>
                    <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê</option>
                    <option value="3">‚≠ê‚≠ê‚≠ê</option>
                    <option value="2">‚≠ê‚≠ê</option>
                    <option value="1">‚≠ê</option>
                </select>         
            </div>
            <div class="input-group col34">
                <label for="comentarios">Comentarios</label>
            <textarea id="comentarios" name="comentarios" placeholder="¬øQu√© te pareci√≥ la pelicula? ¬°Contanos!" style="height:200px"></textarea>
            </div>
            <div class="input-group col34">
            </div>
            <div class="input-group col14">
                <input type="submit" value="Enviar">
            </div>
        </form>
        </div>

        </div>    
    </main>

    <footer class="pie">
        <div class="columna">
            <h3 class="titulo">TUPeli.tk</h3>
            <a href="/" class="link">Top 10 reviews</a>
            <a href="/directores" class="link">Directores</a>
            <a href="/peliculas" class="link">Peliculas</a>
        </div>
        <div class="columna">
            <h3 class="titulo">Escribinos!</h3>
            <a href="mailto:hola@tupeli.tk" class="link">hola@tupeli.tk</a>
        </div>
        <div class="columna">
            <h3 class="titulo">Creado con üí™ por:</h3>
            <a href="https://www.linkedin.com/in/ezequiel-herbosa/" target="_blank">Ezequiel Herbosa</a>
            <a href="https://www.linkedin.com/in/dante-pereyra/" class="_blank">Dante Pereyra</a>
        </div>
    </footer>
    
    <script src="{{ url_for('static', filename='menu.js') }}"></script>
    <script>
        fetch('/api/directores')
            .then( resp => resp.json())
            .then( directores => {
                const selectDirectores = document.getElementById("director_id")
                directores.forEach(d => {
                    selectDirectores.innerHTML += `<option value="${d.id_director}">${d.director}</option>`
                });
            })

        fetch('/api/generos')
            .then( resp => resp.json())
            .then( generos => {
                const selectGeneros = document.getElementById("genero")
                const selectSubGeneros = document.getElementById("genero_sub")
                generos.forEach((genero, valor) => {
                    selectGeneros.innerHTML += `<option value="${valor}">${genero}</option>`
                    selectSubGeneros.innerHTML += `<option value="${valor}">${genero}</option>`
                });
            })
    </script>

</body>
</html>